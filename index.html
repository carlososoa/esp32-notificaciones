<!DOCTYPE html>
<html>
<head>
    <title>Notificaciones ESP32</title>
    <script src="/socket.io/socket.io.js"></script>
</head>
<body>
    <h1>Notificaciones en Tiempo Real</h1>
    <div id="notificaciones"></div>

    <script>
        const socket = io();

        socket.on('nueva-notificacion', (data) => {
            const div = document.getElementById('notificaciones');
            const p = document.createElement('p');
            p.textContent = "ðŸŸ¢ NotificaciÃ³n recibida de: " + data.mensaje.NombreNegocio;
            const direccion = document.createElement('p');
            direccion.textContent = "Direccion :" + data.mensaje.Direccion;
            const coordenadas = document.createElement('a');
            coordenadas.href = "https://www.google.com/maps/search/?api=1&query="+ data.mensaje.Coordenadas[0]+ "%2C"+data.mensaje.Coordenadas[1]+"&hl=es-419";
            coordenadas.textContent = "Ver la ubicacion";
            coordenadas.target = "_blank"; 
            
            div.appendChild(p);
            div.appendChild(direccion);
            div.appendChild(coordenadas);
        });
    </script>
</body>
</html>
